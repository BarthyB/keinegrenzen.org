{% extends '@App/base.html.twig' %}

{% import '@App/macros/social-link.html.twig' as socialLink %}

{% block body %}

    {% include '@App/nav.html.twig' with {'index': true} %}

    <header class="container-fluid text-center">
        <div class="row align-items-center page-title">
            <div class="col">
                <div class="sr sr-t-1">
                    <h2 class="text-center">{{ 'index.page-title.2'|trans|nl2br }}</h2>
                    <h1 class="mt-2 mb-0">
                        {{ 'index.page-title.1.1'|trans }}&nbsp;<strong>{{ 'index.page-title.1.2'|trans }}</strong>
                    </h1>
                </div>
                <div class="sr sr-b-2">
                    <a href="{{ 'nav.projekt.href'|trans }}" class="btn btn-primary btn-shadow btn-lg">
                        {{ 'readmore'|trans }}
                    </a>
                </div>
            </div>
            <div class="arrow-bounce pb-3 sr sr-b-3">
                <a href="#{{ 'nav.projekt.id'|trans }}">
                    {% include '@App/icons/down.svg.twig' with {color: 'white'} %}
                </a>
            </div>
        </div>
    </header>

    <section class="intro container pt-5" id="{{ 'nav.projekt.id'|trans }}">
        <div class="row py-2">
            <div class="col text-center">
                <h2>{{ 'index.h1'|trans }}</h2>
            </div>
        </div>
        <div class="row py-2 justify-content-center">
            <div class="col-md-8 text-center">
                <p class="text-big">{{ 'index.p.description'|trans|raw|nl2br }}</p>
            </div>
        </div>
        <div class="row py-2 justify-content-center">
            <div class="col-md-8 text-center">
                <a class="btn btn-lg btn-outline-primary sr sr-b-1 mb-3 mb-md-0" href="{{ 'nav.artists.href'|trans }}">
                    <span class="mr-1">
                        {% include '@App/icons/group.svg.twig' with {color: 'primary'} %}
                    </span>
                    {{ 'index.a.see_all_artists'|trans }}
                </a>
                <a class="btn btn-lg btn-primary btn-shadow sr sr-b-1 donate-external" target="_blank"
                   href="{{ path('donate_external') }}">
                    {{ 'donate'|trans }}
                    <span class="ml-1">
                        {% include '@App/icons/external-link.svg.twig' with {color: 'white'} %}
                    </span>
                </a>
            </div>
        </div>
    </section>

    <section class="portrait container py-5">
        <div class="row py-2">
            <div class="col text-center">
                <h2>{{ 'current.portrait'|trans }}</h2>
            </div>
        </div>
        <div class="row py-2">
            <div class="col-md-6">
                <div class="embed-responsive embed-responsive-16by9">
                    <iframe class="embed-responsive-item"
                            src="https://www.youtube.com/embed/lRyMLIc_ypQ"
                            frameborder="0" allowfullscreen></iframe>
                </div>
            </div>
            <div class="col-md-6 mt-3 mt-md-0 align-self-center">
                <h3>{{ bigPage.name }}</h3>
                <p><strong>{{ bigPage.genre }}</strong>, {{ 'from'|trans }} {{ bigPage.location }}</p>
                <p>{{ bigPage.description|truncate(400, true)|raw }}</p>
                <a href="{{ path('profile_show', {UURL: bigPage.UURL}) }}"
                   class="btn btn-secondary">
                    {{ 'readmore'|trans }}
                </a>
            </div>
        </div>
    </section>

    <section class="statistics container-fluid p-3" id="{{ 'nav.donate.id'|trans }}">
        <div class="row p-md-5">
            <div class="col-lg-5 col-md-5 col-sm-12 col-xs-12 p-md-5 sr sr-t-1">
                <span class="double">
                    <strong class="counter">{{ (total/100)|number_format(0, '', '') }}</strong>€
                </span>
                <br>
                <span>{{ 'index.donation.total.1'|trans }}</span>
                <span>{{ 'index.donation.total.2'|trans }}</span>
            </div>
            <div class="col-lg-7 col-md-7 col-sm-12 p-md-5">
                <div class="col-lg-12 text-right sr sr-t-2">
                    <span class="double"><strong class="counter">{{ count }}</strong></span>
                    <br>
                    <span>{{ 'index.donation.count.1'|trans }}</span>
                    <span>{{ 'index.donation.count.2'|trans }}</span>
                </div>
                <div class="col-lg-12 text-right mt-5 sr sr-b-3">
                    <span class="double">
                        <strong class="counter">{{ ((total/100)/count)|number_format(2, ',', '') }}</strong>€
                    </span>
                    <br>
                    <span>{{ 'index.donation.ave.1'|trans }}</span>
                    <span>{{ 'index.donation.ave.2'|trans }}</span>
                </div>
            </div>
        </div>
    </section>

    <section class="artists container py-5" id="{{ 'nav.artists.id'|trans }}">
        <div class="row py-2">
            <div class="col text-center">
                <h2>{{ 'nav.artists'|trans }}</h2>
            </div>
        </div>
        <div class="row py-2 justify-content-center">
            <div class="col-lg-8 text-center">
                <p class="text-big">{{ 'artists.p.description'|trans|nl2br }}</p>
            </div>
        </div>
        <div class="row py-2 justify-content-center">
            {% for profile in profiles %}
                <div class="col-lg-4 col-sm-6 text-center artist-col my-3"
                     itemscope itemtype="http://schema.org/MusicGroup">
                    <h3 class="artist-name" itemprop="name">{{ profile.name }}</h3>
                    <div class="artist-preview my-3">
                        <a href="{{ path('profile_show', {UURL: profile.UURL}) }}"
                           class="artist-img d-flex justify-content-center align-items-center align-content-center"
                           style="background-image: url({{ asset(profile.profileImage.webPath) }})">
                            <img src="{{ asset(profile.profileImage.webPath) }}"
                                 alt="{{ profile.name ~ ' - ' ~ 'frontpage.image'|trans }}" itemprop="image">
                        </a>
                        <p class="artist-genre my-2" itemprop="genre">{{ profile.genre }}</p>
                        <ul class="list-inline my-3 text-muted">
                            {{ socialLink.sortAndRender(profile.links) }}
                        </ul>
                        <a href="{{ path('profile_show', {UURL: profile.UURL}) }}"
                           class="btn btn-outline-primary mb-3 sr sr-b-1" itemprop="url">
                            {{ 'readmore'|trans }}
                        </a>
                    </div>
                </div>
            {% endfor %}
        </div>
    </section>

    <section class="support container-fluid d-flex py-5" id="{{ 'nav.support.id'|trans }}">
        <div class="row align-self-center">
            <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12 text-center">
                <div class="col">
                    <h2 class="my-2">{{ 'nav.support'|trans }}</h2>
                    <p class="text-big p-5 my-2">{{ 'support.p'|trans }}</p>
                    <a class="btn btn-tw btn-lg my-2 sr sr-b-1" href="https://twitter.com/keinegrenzenOrg"
                       rel="nofollow"
                       target="_blank" title="{{ 'support.tw.title'|trans }}">
                        <span>
                            {% include '@App/icons/twitter.svg.twig' with {color: 'white'} %}
                        </span>
                        {{ 'support.tw.title'|trans }}
                    </a>
                    <a class="btn btn-fb btn-lg my-2 sr sr-b-1" href="https://www.facebook.com/keinegrenzenOrg/"
                       rel="nofollow"
                       target="_blank" title="{{ 'support.fb.title'|trans }}">
                        <span>
                            {% include '@App/icons/facebook.svg.twig' with {color: 'white'} %}
                        </span>
                        {{ 'support.fb.title'|trans }}
                    </a>
                    <a class="btn btn-insta btn-lg my-2 sr sr-b-1" href="https://www.instagram.com/keinegrenzen_org/"
                       rel="nofollow"
                       target="_blank" title="{{ 'support.insta.title'|trans }}">
                        <span>
                            {% include '@App/icons/instagram.svg.twig' with {color: 'white'} %}
                        </span>
                        {{ 'support.insta.title'|trans }}
                    </a>
                </div>
            </div>
        </div>
    </section>

    {% include '@App/footer.html.twig' %}

{% endblock %}